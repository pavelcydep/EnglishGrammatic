!function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);class a{constructor(e){this.url=e}async getApi(){const e=await fetch(""+this.url);if(!e.ok)throw new Error(`Ошибка по адресу ${url}, статус ошибки ${e}`);return await e.json()}async postApi(e){await fetch(""+this.url,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)})}}const s={answers:[]},l=new a("https://617e6ebc2ff7e600174bd7c2.mockapi.io/english"),o=new a("https://617e6ebc2ff7e600174bd7c2.mockapi.io/record"),r=document.querySelector(".button-again"),i=document.getElementById("carousel"),c=document.querySelector(".result"),d=document.querySelector(".anti-result"),u=document.querySelector(".formName"),m=document.forms.user,p=m.elements.name,g=document.querySelector(".table"),b=g.tBodies[0];let f=i.querySelector("ul");let y=new Date,L=0,h=0,v=0,C=0,S=0,w=0;let E=0;const x=()=>{if(null!==document){let e=document.querySelectorAll("li"),t=1;for(let e of i.querySelectorAll("li"))e.style.position="relative",e.insertAdjacentHTML("beforeend",`<span style="position:absolute;left:0;top:0">${t}</span>`),t++;E-=300,E=Math.max(E,-300*(e.length-1)),f.style.marginLeft=E+"px",s.answers=[]}},I=()=>{let e=(localStorage.getItem("test")?parseInt(localStorage.getItem("test")):0)+1;localStorage.setItem("test",e),e>=10?((()=>{w=w>0?0:1;let e=L.toLocaleTimeString();localStorage.setItem("timeSpent",e)})(),i.classList.add("display-none"),i.classList.remove("carousel"),c.classList.remove("display-none"),r.classList.remove("display-none"),k(),g.classList.remove("display-none")):setTimeout(x,2e3)},k=()=>{let e={name:localStorage.getItem("userName"),scores:localStorage.getItem("myClicks1")?parseInt(localStorage.getItem("myClicks1")):0,time:localStorage.getItem("timeSpent")};o.postApi(e)};r.addEventListener("click",()=>{localStorage.clear(),location.reload()});const T=(e,t,n,a,l,o)=>{const r=document.createElement("li"),i=document.createElement("div"),u=document.createElement("div"),m=document.createElement("div"),p=document.createElement("div"),g=document.createElement("div");i.setAttribute("style",`background-image:url(${o})`);const b=document.createElement("div"),f=document.createElement("p"),y=document.createElement("p"),L=document.createElement("p"),h=document.createElement("div"),v=document.createElement("button"),C=document.createElement("button"),S=document.createElement("button"),w=document.createElement("button");w.textContent="проверить",i.classList.add("image"),u.classList.add("test-container"),m.classList.add("vopros"),p.classList.add("vopros"),b.classList.add("otvet-variant"),f.classList.add("display-none","btn","btn-margin","btn-primary"),y.classList.add("display-none","btn","btn-margin","btn-primary"),L.classList.add("display-none","btn","btn-margin","btn-primary"),v.classList.add("btn","btn-margin","btn-warning"),C.classList.add("btn","btn-margin","btn-warning"),S.classList.add("btn","btn-margin","btn-warning"),w.classList.add("btn","btn-success"),h.classList.add("otvet"),g.classList.add("otvet-proverka"),r.appendChild(i),r.appendChild(u),u.appendChild(m),u.appendChild(p),u.appendChild(b),b.appendChild(f),b.appendChild(y),b.appendChild(L),u.appendChild(h),h.appendChild(v),h.appendChild(C),h.appendChild(S),u.appendChild(g),g.appendChild(w),p.textContent=e,v.textContent=t,C.textContent=n,S.textContent=a;v.addEventListener("click",()=>{let e=s.answers.push(t);return f.textContent=t,v.classList.add("display-none"),f.classList.remove("display-none"),b.appendChild(f),e}),C.addEventListener("click",()=>{let e=s.answers.push(n);return y.textContent=n,C.classList.add("display-none"),y.classList.remove("display-none"),b.appendChild(y),e}),S.addEventListener("click",()=>{let e=s.answers.push(a);return L.textContent=a,S.classList.add("display-none"),L.classList.remove("display-none"),b.appendChild(L),e});return w.addEventListener("click",()=>{let e=(t=s.answers,n=l,t.map((e,t)=>e===n[t]));var t,n;3!==s.answers.length&&(w.setAttribute("disabled","disabled"),alert("Составьте предложение полностью")),3===s.answers.length&&(!1===(e[0]&&e[1]&&e[2])?(()=>{let e=(localStorage.getItem("myClicks2")?parseInt(localStorage.getItem("myClicks2")):0)+1,t=localStorage.getItem("userName");d.textContent=t+", ваш результат:"+e+"неправильных ответов",localStorage.setItem("myClicks2",e)})():(()=>{let e=(localStorage.getItem("myClicks1")?parseInt(localStorage.getItem("myClicks1")):0)+1,t=localStorage.getItem("userName");c.textContent=t+", ваш результат:"+e+" правильных ответа",localStorage.setItem("myClicks1",e)})(),!1===e[0]?f.classList.add("btn-danger"):f.classList.add("btn-success"),!1===e[1]?y.classList.add("btn-danger"):y.classList.add("btn-success"),!1===e[2]?L.classList.add("btn-danger"):L.classList.add("btn-success"),f.classList.remove("btn-warning"),y.classList.remove("btn-warning"),L.classList.remove("btn-warning"),I())}),r};l.getApi().then(e=>(e=>{for(var t,n,a=e.length-1;a>0;a--)n=e[t=Math.floor(Math.random()*(a+1))],e[t]=e[a],e[a]=n;return e})(e).forEach((function(e){!function(e,t,n,a,s,l){const o=T(e,t,n,a,s,l);f.appendChild(o)}(e.questionsRus,e.buttonTextVariant[0],e.buttonTextVariant[1],e.buttonTextVariant[2],e.questionsEng,e.imageLink)}))),m.addEventListener("submit",e=>{e.preventDefault();let t=p.value;localStorage.setItem("userName",t),(()=>{L=new Date,h=new Date;w>0?(C=1*L+6e4*L.getTimezoneOffset()-y-v,L=new Date(v)):(L.setTime(h-y-C+6e4*L.getTimezoneOffset()),v=L),S=new Date(h-y+6e4*L.getTimezoneOffset())})(),u.classList.add("display-none"),i.classList.add("carousel"),m.reset()}),o.getApi().then(e=>e.forEach((function(e){const t=b.insertRow();t.insertCell().textContent=e.name,t.insertCell().textContent=e.scores,t.insertCell().textContent=e.time+"(чч: мм: сс)"})))}]);